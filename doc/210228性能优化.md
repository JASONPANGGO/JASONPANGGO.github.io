# 通过并行加载 script 脚本以优化性能

## 前言

公司的移动端h5项目一直使用一个h5游戏引擎来开发，名叫青瓷，是一款基于 Phaser 游戏引擎封装API并自带web版编辑器的开源游戏引擎，著名产品有最强蜗牛。在此基础上我所在的项目组正在开发一款贴合我们移动广告业务场景的编辑器，在开发的过程中发现游戏场景初始化加载特别缓慢，遂开始性能优化的过程。

## 归因

### Chrome Dev Tools - Performance

### Chrome Dev Tools - Network

网络加载waterfall的图

可以看到所有的js脚本的加载都是强依赖前一项地堵塞执行，而实际情况中的js脚本的依赖情况并没有那么强的依赖性，完全可以并行地加载前一部分，执行后，再并行地加载后一部分，如此下来加载速度也会有很大提升。

## 解决方案

### 打包📦

### LABjs

## 结果

通过比较多个项目的加载情况，比较Network中的finish时间，平均优化速度50%。